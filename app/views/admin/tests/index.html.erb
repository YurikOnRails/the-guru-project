<div class="container mt-4">
  <%= render 'js_translations' %>
  
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="mb-0">
      <% if @timer_settings %>
        <i class="bi bi-stopwatch me-2"></i>Управление таймерами
      <% else %>
        <%= t('.header') %>
      <% end %>
    </h1>
    <%= link_to new_admin_test_path, class: 'btn btn-primary' do %>
      <i class="bi bi-plus-circle me-1"></i> <%= t('.new_test') %>
    <% end %>
  </div>

  <div id="flash">
    <%= render "shared/flash" %>
  </div>

  <%= render 'admin/shared/errors', resource: @test, data: { resource_id: @test&.id } %>

  <div class="card shadow-sm">
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-striped table-hover align-middle">
          <thead class="table-primary">
            <tr>
              <th class="sort-by-title pointer">
                <%= t('.title') %>
                <%= octicon "arrow-up", class: "text-success hide" %>
                <%= octicon "arrow-down", class: "text-success hide" %>
              </th>
              <th><%= t(".level") %></th>
              <th><%= t(".category") %></th>
              <th><%= t(".questions_count") %></th>
              <th>
                <% if @timer_settings %>
                  <i class="bi bi-stopwatch me-1"></i>Время (мин)
                <% else %>
                  Таймер
                <% end %>
              </th>
              <th class="text-center"><%= t(".actions") %></th>
            </tr>
          </thead>
          <tbody>
            <% if @timer_settings %>
              <%= render partial: "timer_settings", collection: @tests, as: :test %>
            <% else %>
              <%= render @tests %>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
